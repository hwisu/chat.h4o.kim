/* Markdown rendering styles */
.message-content pre.code-block {
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 4px;
    padding: 12px;
    margin: 8px 0;
    overflow-x: auto;
    font-family: 'JetBrains Mono', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.4;
    
    /* Enable word wrapping for long lines */
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.message-content pre.code-block code {
    /* Ensure code also wraps properly */
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Highlight.js overrides for dark theme consistency */
.message-content pre.code-block code.hljs {
    background: transparent !important;
    padding: 0 !important;
    font-family: inherit;
}

/* Default color for unhighlighted code */
.message-content pre.code-block code:not(.hljs) {
    color: #ffffff;
}

/* Higher specificity for highlight.js colors to override .assistant-message */
.assistant-message .message-content .hljs-keyword,
.assistant-message .message-content .hljs-selector-tag,
.assistant-message .message-content .hljs-literal,
.assistant-message .message-content .hljs-section,
.assistant-message .message-content .hljs-link {
    color: #ff6b35 !important;
}

.assistant-message .message-content .hljs-string,
.assistant-message .message-content .hljs-title,
.assistant-message .message-content .hljs-name,
.assistant-message .message-content .hljs-type,
.assistant-message .message-content .hljs-attribute,
.assistant-message .message-content .hljs-symbol,
.assistant-message .message-content .hljs-bullet,
.assistant-message .message-content .hljs-addition,
.assistant-message .message-content .hljs-variable,
.assistant-message .message-content .hljs-template-tag,
.assistant-message .message-content .hljs-template-variable {
    color: #00ff88 !important;
}

.assistant-message .message-content .hljs-comment,
.assistant-message .message-content .hljs-quote,
.assistant-message .message-content .hljs-deletion,
.assistant-message .message-content .hljs-meta {
    color: #666 !important;
    font-style: italic;
}

.assistant-message .message-content .hljs-number,
.assistant-message .message-content .hljs-regexp,
.assistant-message .message-content .hljs-selector-id,
.assistant-message .message-content .hljs-selector-class,
.assistant-message .message-content .hljs-selector-pseudo {
    color: #ffaa00 !important;
}

.assistant-message .message-content .hljs-function,
.assistant-message .message-content .hljs-built_in,
.assistant-message .message-content .hljs-builtin-name,
.assistant-message .message-content .hljs-class,
.assistant-message .message-content .hljs-title.class_ {
    color: #00aaff !important;
}

.assistant-message .message-content .hljs-emphasis {
    font-style: italic;
}

.assistant-message .message-content .hljs-strong {
    font-weight: bold;
}

.message-content code.inline-code {
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 2px;
    padding: 2px 4px;
    font-family: 'JetBrains Mono', 'Courier New', monospace;
    color: #00ff88;
    font-size: 13px;
}

.message-content .md-h1,
.message-content .md-h2,
.message-content .md-h3 {
    color: #00ff00;
    font-weight: bold;
    margin: 16px 0 8px 0;
    border-bottom: 1px solid #333;
    padding-bottom: 4px;
}

.message-content .md-h1 { font-size: 1.4em; }
.message-content .md-h2 { font-size: 1.2em; }
.message-content .md-h3 { font-size: 1.1em; }

.message-content .md-ul {
    margin: 8px 0;
    padding-left: 0;
    list-style: none;
}

.message-content .md-li {
    margin: 4px 0;
    padding-left: 30px;
    position: relative;
}

.message-content .md-li::before {
    content: "•";
    color: #00ff00;
    position: absolute;
    left: 0;
    top: 0;
    min-width: 25px;
}

/* Standard HTML lists generated by marked */
.message-content ul {
    margin: 8px 0;
    padding-left: 20px;
    list-style: none;
}

.message-content ul li {
    margin: 4px 0;
    padding-left: 20px;
    position: relative;
}

.message-content ul li::before {
    content: "•";
    color: #00ff00;
    position: absolute;
    left: 0;
    top: 0;
    font-weight: bold;
}

.message-content ol {
    margin: 8px 0;
    padding-left: 20px;
    list-style: none;
    counter-reset: list-counter;
}

.message-content ol li {
    margin: 4px 0;
    padding-left: 20px;
    position: relative;
    counter-increment: list-counter;
}

.message-content ol li::before {
    content: counter(list-counter) ".";
    color: #00ff00;
    position: absolute;
    left: 0;
    top: 0;
    font-weight: bold;
    min-width: 20px;
}

.message-content ol ol,
.message-content ul ul,
.message-content ol ul,
.message-content ul ol {
    margin: 4px 0;
    padding-left: 20px;
}

.message-content .md-link {
    color: #0088ff;
    text-decoration: underline;
}

.message-content .md-link:hover {
    color: #00aaff;
}

.message-content strong {
    color: #00ff00;
    font-weight: bold;
}

.message-content em {
    color: #ffaa00;
    font-style: italic;
}

.message-content blockquote {
    border-left: 3px solid #00ff00;
    margin: 8px 0;
    padding-left: 12px;
    color: #ccc;
    font-style: italic;
}

.message-content table {
    border-collapse: collapse;
    margin: 8px 0;
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
    display: block;
    white-space: nowrap;
}

.message-content table thead,
.message-content table tbody {
    display: table;
    width: 100%;
    table-layout: fixed;
}

.message-content table th,
.message-content table td {
    border: 1px solid #333;
    padding: 6px 8px;
    text-align: left;
    display: table-cell;
}

.message-content table th {
    background: #1a1a1a;
    color: #00ff00;
    font-weight: bold;
}

/* Fallback styles for non-assistant messages */
.message-content .hljs-keyword,
.message-content .hljs-selector-tag,
.message-content .hljs-literal,
.message-content .hljs-section,
.message-content .hljs-link {
    color: #ff6b35;
}

.message-content .hljs-string,
.message-content .hljs-title,
.message-content .hljs-name,
.message-content .hljs-type,
.message-content .hljs-attribute,
.message-content .hljs-symbol,
.message-content .hljs-bullet,
.message-content .hljs-addition,
.message-content .hljs-variable,
.message-content .hljs-template-tag,
.message-content .hljs-template-variable {
    color: #00ff88;
}

.message-content .hljs-comment,
.message-content .hljs-quote,
.message-content .hljs-deletion,
.message-content .hljs-meta {
    color: #666;
    font-style: italic;
}

.message-content .hljs-number,
.message-content .hljs-regexp,
.message-content .hljs-selector-id,
.message-content .hljs-selector-class,
.message-content .hljs-selector-pseudo {
    color: #ffaa00;
}

.message-content .hljs-function,
.message-content .hljs-built_in,
.message-content .hljs-builtin-name,
.message-content .hljs-class,
.message-content .hljs-title.class_ {
    color: #00aaff;
}

.message-content .hljs-emphasis {
    font-style: italic;
}

.message-content .hljs-strong {
    font-weight: bold;
}
